{% extends "base.html" %}
{% block navbar %}
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <h1>Tag List</h1>
        <a href="#"></a>
    </div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/">어느 카페 갈까?</a>
        <ul class="navbar-nav mr-auto">
            {% if user.is_active %}
                <li class="nav-item">
                <div onclick="openNav()">Tag 리스트 보기</div>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="/">{{ user.name }}</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="#">로그아웃</a>
                </li>
            {% else %}
            <li class="nav-item">
                <a class="nav-link" href="/login">로그인/회원가입</a>
            </li>
            {% endif %}
            <li class="nav-item">
                <a class="nav-link" href="#"></a>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0" name="search_form">
            <input class="form-control" type="search" placeholder="무료주차, 데이트, 달달 ..." aria-label="Search" name="tag">
            <button class="btn btn-outline-info" type="submit">Search</button>
        </form>
    </nav>
{% endblock navbar %}
{% block content %}
<div id="map" style="width:100%;height:100%;"></div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=13e215ebeff4491affad85060f410467&libraries=services"></script>
<script type="text/javascript" src="/static/script.js"></script>
<script>
let cafe_data = JSON.parse((("{{cafe_data}}").replace(/&(l|g|quo)t;/g, function(a,b){ return { l   : '<', g   : '>', quo : '"' }[b]; })));
createMarker(cafe_data);
</script>
{% endblock content %}